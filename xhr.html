<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XHR</title>
</head>

<body>
    <h1>XML HTTPS Request</h1>


<script>

    const makeRequest = (method, url, info) => {
        return new Promise((resolve, reject) => {
            const xhr = new XMLHttpRequest();
        xhr.open(method, url);
        
        xhr.onload = () => {
            const data = xhr.response;
            console.log(JSON.parse(data));
        }
        xhr.onerror = () => {
            console.log('Sorry! Something Went Wrong! :(')
        }
        xhr.setRequestHeader('Content-Type', 'application/json');
        xhr.send(JSON.stringify(info));
        })
    }

    const getData = () => {
        makeRequest("GET", "https://jsonplaceholder.typicode.com/posts")
        .then(res => {
            console.log(res);
        })
        .catch(err => {
            console.log(err);
        })
    }
    getData();



    // const postData = () => {
    //     makeRequest("POST", "https://jsonplaceholder.typicode.com/posts", {
    //         title: "FOO", 
    //         body: "I'm a hero"
    //     });
    // }

    // const updateData = () => {
    //     makeRequest('PATCH', 'https://jsonplaceholder.typicode.com/posts/1', {
    //         title: "Even Death I'm The Hero", 
    //         body: "I am not gonna lie"
    //     })
    // }

    // const deleteData = () => {
    //     makeRequest('DELETE', 'https://jsonplaceholder.typicode.com/posts/1');
    // }


    // getData();
    // postData();
    // updateData();
    // deleteData();
</script>
</body>

</html>
